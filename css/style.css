:root {
    /* Colores base */
    --page-background-light: #EBDDFF; /* Fondo de página un poquito más claro */
    --main-text-color: #333; /* Color de texto principal */

    /* Colores para cursos APROBADOS (Malla) y TACHADOS (Horario sidebar) */
    --approved-gradient-start: #FFB5E8; /* Rosa claro */
    --approved-gradient-end: #FFD0F0;   /* Rosa un poco más claro */
    --approved-text-dark: #D85090;      /* Rosa oscuro vibrante */
    --approved-border-dark: #E09ACF;    /* Rosa oscuro para el borde */

    /* Colores para cursos DESBLOQUEADOS (Malla) y DISPONIBLES (Horario) */
    --unlocked-gradient-start: #AFCBFF; /* Azul claro */
    --unlocked-gradient-end: #C0E0FF;   /* Azul un poco más claro */
    --unlocked-text-dark: #4060A0;      /* Azul oscuro para el texto */
    --unlocked-border-dark: #90A8E0;    /* Azul oscuro para el borde */

    /* Colores para cursos BLOQUEADOS */
    --locked-background: var(--page-background-light);
    --locked-text-color-darker: #B088D0;
    --locked-border-dark: #B088D0;      /* Morado oscuro borde segmentado */

    /* Colores generales */
    --semester-background-darker: #DCCEFF; /* Fondo de semestre */
    --semester-border-dark: #B088D0;    /* Borde de semestre */
    --title-color: #6A0DAD;             /* Morado oscuro original para títulos */

    /* Colores del Horario */
    --schedule-header-bg: var(--title-color);
    --schedule-cell-bg: var(--page-background-light);
    --schedule-cell-border: var(--semester-border-dark);
    --drag-over-color: #D0FFD0;
    
    /* Colores de Botones (Navegación y Semestres) */
    --button-bg: #C0A0E0;
    --button-text: #fff;
    --button-active-bg: #8A5BB0;
    --button-hover-bg: #A080C0;
}

body {
    font-family: 'Arial', sans-serif;
    margin: 0;
    padding: 0;
    background-color: var(--page-background-light);
    color: var(--main-text-color);
    line-height: 1.6;
}

#app-container {
    padding: 20px;
    max-width: 1400px;
    margin: 0 auto;
}

h1 {
    color: var(--title-color);
    text-align: center;
    margin-top: 20px;
    margin-bottom: 30px;
    font-size: 2.5rem;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
}

/* --- Navegación --- */
.navigation-tabs {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    margin-bottom: 30px;
    gap: 15px;
    padding: 15px;
}

/* Estilo unificado para botones de navegación y semestre */
.nav-button, 
#semester-buttons-container .semester-button {
    padding: 12px 25px; /* Tamaño grande original */
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1.1rem;
    font-weight: bold;
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    background-color: var(--button-bg);
    color: var(--button-text);
}

.nav-button:hover:not(.active),
#semester-buttons-container .semester-button:hover:not(.active) {
    background-color: var(--button-hover-bg);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

.nav-button.active,
#semester-buttons-container .semester-button.active {
    background-color: var(--button-active-bg);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

#semester-buttons-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
    margin-top: 15px;
    width: 100%;
}

.hidden {
    display: none !important;
}

/* --- Contenedores de Vista --- */
.view-container {
    padding: 20px;
    border-radius: 12px;
    /* Fondo difuminado (mismo que semestres) */
    background-color: var(--semester-background-darker); 
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
}

.hidden-view { display: none; }
.active-view { display: block; }

/* --- Malla (Rastreador) --- */
#course-tracker {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
}

.semester {
    background-color: var(--semester-background-darker);
    border-radius: 12px;
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    padding: 20px;
    flex: 1 1 calc(33% - 40px);
    min-width: 280px;
    box-sizing: border-box;
    border: 2px solid var(--semester-border-dark);
}

.semester h2 {
    color: var(--title-color);
    margin-top: 0;
    border-bottom: 2px solid var(--title-color);
    padding-bottom: 10px;
    margin-bottom: 15px;
    font-size: 1.8rem;
    text-align: center;
}

.course {
    padding: 12px 15px;
    margin-bottom: 10px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 0.95rem;
    font-weight: bold;
    word-wrap: break-word;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.course.locked {
    background-color: var(--locked-background);
    color: var(--locked-text-color-darker);
    cursor: not-allowed;
    border: 2px dashed var(--locked-border-dark);
    opacity: 0.8;
}

.course.unlocked {
    background: linear-gradient(to right, var(--unlocked-gradient-start), var(--unlocked-gradient-end));
    color: var(--unlocked-text-dark);
    border: 2px solid var(--unlocked-border-dark);
}

.course.approved {
    background: linear-gradient(to right, var(--approved-gradient-start), var(--approved-gradient-end));
    color: var(--approved-text-dark);
    text-decoration: line-through;
    border: 2px solid var(--approved-border-dark);
}

.course:not(.locked):hover {
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25);
    transform: translateY(-3px);
}

/* --- Horario --- */
.schedule-content {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
}

/* Barra Lateral */
.draggable-courses-sidebar {
    flex: 0 0 250px;
    background-color: var(--page-background-light); /* Fondo difuminado */
    border-radius: 12px;
    padding: 15px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    align-self: flex-start;
    border: 2px solid var(--semester-border-dark);
}

.draggable-courses-sidebar h3 {
    color: var(--title-color);
    text-align: center;
    margin-top: 0;
    margin-bottom: 15px;
    border-bottom: 1px solid var(--title-color);
    padding-bottom: 10px;
}

/* Items Arrastrables en la barra lateral */
#available-courses .course-draggable {
    padding: 10px;
    margin-bottom: 8px;
    /* Azul (unlocked style) */
    background: linear-gradient(to right, var(--unlocked-gradient-start), var(--unlocked-gradient-end));
    border: 1px solid var(--unlocked-border-dark);
    border-radius: 5px;
    cursor: grab;
    font-size: 0.9rem;
    font-weight: bold;
    text-align: center;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    transition: all 0.2s ease;
    
    /* Flex para checkbox y texto */
    display: flex;
    justify-content: space-between;
    align-items: center;
}

#available-courses .course-draggable:hover {
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
    transform: translateY(-2px);
}

/* Estado "Checkeado" en la barra lateral */
#available-courses .course-draggable.sidebar-checked {
    background: linear-gradient(to right, var(--approved-gradient-start), var(--approved-gradient-end));
    color: var(--approved-text-dark);
    text-decoration: line-through;
    border: 1px solid var(--approved-border-dark);
    opacity: 0.9;
}

#available-courses .course-draggable span {
    flex-grow: 1;
    padding-right: 5px;
}

.sidebar-checkbox {
    cursor: pointer;
    width: 16px;
    height: 16px;
    margin-left: 5px;
    accent-color: var(--approved-text-dark);
}

/* Cuadrícula del Horario */
.schedule-grid-container {
    flex: 1;
    overflow-x: auto;
    background-color: var(--page-background-light); /* Fondo difuminado */
    border-radius: 12px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    padding: 10px;
    border: 2px solid var(--semester-border-dark);
}

#schedule-grid {
    display: grid;
    border-collapse: collapse;
    width: 100%;
    min-width: 700px;
}

.schedule-header-cell, .time-slot-header {
    background-color: var(--schedule-header-bg);
    color: #fff;
    font-weight: bold;
    padding: 10px 5px;
    text-align: center;
    border: 1px solid #fff;
    position: sticky;
    z-index: 10;
    border-radius: 8px;
}

.schedule-header-cell { top: 0; }
.time-slot-header { left: 0; }

.schedule-cell {
    background-color: var(--schedule-cell-bg);
    border: 1px solid var(--schedule-cell-border);
    padding: 2px; /* Mínimo padding para que el item ocupe casi todo */
    min-height: 60px;
    text-align: center;
    position: relative;
    transition: background-color 0.2s ease;
    border-radius: 8px;
}

.schedule-cell.drag-over {
    background-color: var(--drag-over-color);
    border: 2px dashed var(--title-color);
}

/* Item dentro del horario */
.scheduled-course {
    background: linear-gradient(to right, var(--unlocked-gradient-start), var(--unlocked-gradient-end));
    color: var(--unlocked-text-dark);
    border: 1px solid var(--unlocked-border-dark);
    border-radius: 5px;
    width: 100%;
    height: 100%;
    box-sizing: border-box;
    cursor: grab;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 5px 15px 5px 5px; /* Espacio extra a la derecha para la X */
    position: relative;
}

/* Input del Profesor */
.scheduled-course input.professor-input {
    margin-top: 4px;
    width: 95%;
    padding: 2px;
    font-size: 0.8rem;
    border: 1px solid rgba(255,255,255,0.6);
    border-radius: 4px;
    background-color: rgba(255,255,255,0.4);
    color: var(--unlocked-text-dark);
    text-align: center;
    font-family: inherit;
}

.scheduled-course input.professor-input::placeholder {
    color: rgba(64, 96, 160, 0.6);
}

.scheduled-course input.professor-input:focus {
    outline: none;
    background-color: rgba(255,255,255,0.9);
    border-color: var(--unlocked-text-dark);
}

/* Botón eliminar (X) */
.scheduled-course .remove-btn {
    position: absolute;
    top: 2px;
    right: 2px;
    background: none;
    border: none;
    color: var(--unlocked-text-dark);
    font-size: 1.1rem;
    cursor: pointer;
    line-height: 1;
    opacity: 0.6;
    transition: opacity 0.2s;
    padding: 0 2px;
}

.scheduled-course .remove-btn:hover {
    opacity: 1;
    color: #D32F2F;
}

/* Footer del Horario */
.schedule-footer {
    display: flex;
    justify-content: center;
    margin-top: 20px;
}

.schedule-footer button {
    padding: 12px 30px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1.1rem;
    font-weight: bold;
    background-color: var(--title-color);
    color: #fff;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
}

.schedule-footer button:hover {
    background-color: #5A0A9D;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

/* Responsive */
@media (max-width: 1200px) {
    .schedule-content { flex-direction: column; }
    .draggable-courses-sidebar { width: 100%; margin-bottom: 20px; }
}
@media (max-width: 768px) {
    .semester { flex: 1 1 100%; }
    h1 { font-size: 1.8rem; }
    .nav-button, #semester-buttons-container .semester-button { padding: 10px 20px; font-size: 1rem; }
}